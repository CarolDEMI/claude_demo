# ä¼˜åŒ–åçš„é¡¹ç›®ç»“æ„

```
claude_demo/
â”‚
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒæ–‡ä»¶
â”‚   â”œâ”€â”€ main.py                    # ä¸»ç¨‹åºå…¥å£ï¼ˆç»Ÿä¸€é…ç½®æŠ¥å‘Šç³»ç»Ÿï¼‰
â”‚   â”œâ”€â”€ app.py                     # Flask Webåº”ç”¨
â”‚   â”œâ”€â”€ generate_standard_report.py # æ ‡å‡†æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ requirements.txt          # Pythonä¾èµ–ï¼ˆç»Ÿä¸€ç‰ˆæœ¬ï¼‰
â”‚   â””â”€â”€ .env.example              # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚
â”œâ”€â”€ ğŸ“ config/                    # ç»Ÿä¸€é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ __init__.py              # âœ¨ ç»Ÿä¸€é…ç½®åŠ è½½å™¨
â”‚   â”œâ”€â”€ presto_config.py         # Prestoæ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ unified_config.yaml     # ç»Ÿä¸€YAMLé…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ src/                      # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ database.py              # æ•°æ®åº“è¿æ¥ç®¡ç†
â”‚   â”œâ”€â”€ presto_connection.py    # Prestoè¿æ¥ç®¡ç†å™¨
â”‚   â”œâ”€â”€ presto_sync.py          # Prestoæ•°æ®åŒæ­¥ï¼ˆ799è¡Œï¼‰
â”‚   â”œâ”€â”€ data_manager.py         # æ•°æ®ç®¡ç†å™¨
â”‚   â”œâ”€â”€ data_analyzer.py        # æ•°æ®åˆ†æå™¨
â”‚   â”œâ”€â”€ report_generator.py     # æŠ¥å‘Šç”Ÿæˆå™¨ï¼ˆ616è¡Œï¼‰
â”‚   â”œâ”€â”€ daily_report_generator.py # æ—¥æŠ¥ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ dashboard_formatter.py   # ä»ªè¡¨æ¿æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ error_handler.py        # é”™è¯¯å¤„ç†æ¡†æ¶
â”‚   â”œâ”€â”€ user_friendly_errors.py # ç”¨æˆ·å‹å¥½é”™è¯¯æç¤º
â”‚   â”œâ”€â”€ sql_generator.py        # SQLç”Ÿæˆå™¨ï¼ˆ512è¡Œï¼‰
â”‚   â”œâ”€â”€ sql_validator.py        # SQLéªŒè¯å™¨
â”‚   â”œâ”€â”€ query_templates.py      # SQLæŸ¥è¯¢æ¨¡æ¿
â”‚   â”œâ”€â”€ query_cache.py          # æŸ¥è¯¢ç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ progress_bar.py         # è¿›åº¦æ¡æ˜¾ç¤º
â”‚   â””â”€â”€ workflow.py              # å·¥ä½œæµç®¡ç†
â”‚
â”œâ”€â”€ ğŸ“ modular_report_system/    # æ¨¡å—åŒ–æŠ¥å‘Šç³»ç»Ÿ
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ daily_report_controller.py # æ—¥æŠ¥æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ module_manager.py         # æ¨¡å—ç®¡ç†å™¨
â”‚   â”œâ”€â”€ config/                   # æ¨¡å—é…ç½®
â”‚   â”‚   â”œâ”€â”€ data_field_config.py  # æ•°æ®å­—æ®µé…ç½®
â”‚   â”‚   â””â”€â”€ modules_config.py     # æ¨¡å—é…ç½®
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ base_module.py       # åŸºç¡€æ¨¡å—ç±»
â”‚   â”‚   â”œâ”€â”€ data_collector.py    # æ•°æ®æ”¶é›†å™¨
â”‚   â”‚   â””â”€â”€ html_generator.py    # HTMLç”Ÿæˆå™¨
â”‚   â””â”€â”€ modules/                  # åŠŸèƒ½æ¨¡å—
â”‚       â”œâ”€â”€ anomaly_detection.py  # âœ¨ ç»Ÿä¸€å¼‚å¸¸æ£€æµ‹æ¨¡å—
â”‚       â”œâ”€â”€ overview_metrics.py   # æ¦‚è§ˆæŒ‡æ ‡
â”‚       â””â”€â”€ user_behavior_analysis.py # ç”¨æˆ·è¡Œä¸ºåˆ†æ
â”‚
â”œâ”€â”€ ğŸ“ utils/                     # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ auto_fix_compliance.py   # è‡ªåŠ¨ä¿®å¤åˆè§„æ€§
â”‚   â”œâ”€â”€ auto_fixer.py           # è‡ªåŠ¨ä¿®å¤å™¨
â”‚   â”œâ”€â”€ code_consistency_checker.py # ä»£ç ä¸€è‡´æ€§æ£€æŸ¥
â”‚   â”œâ”€â”€ compliance_monitor.py    # åˆè§„æ€§ç›‘æ§
â”‚   â”œâ”€â”€ conditional_auto_fix.py  # æ¡ä»¶è‡ªåŠ¨ä¿®å¤
â”‚   â”œâ”€â”€ dashboard.py             # ä»ªè¡¨æ¿å·¥å…·
â”‚   â”œâ”€â”€ integrated_report_system.py # é›†æˆæŠ¥å‘Šç³»ç»Ÿ
â”‚   â”œâ”€â”€ test_modular_report.py   # æ¨¡å—æµ‹è¯•
â”‚   â””â”€â”€ unified_config_system.py # ç»Ÿä¸€é…ç½®ç³»ç»Ÿ
â”‚
â”œâ”€â”€ ğŸ“ scripts/                   # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ optimize_database.py     # âœ¨ æ•°æ®åº“ä¼˜åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ manual_data_import.py    # æ‰‹åŠ¨æ•°æ®å¯¼å…¥
â”‚   â”œâ”€â”€ update_code_compatibility.py # ä»£ç å…¼å®¹æ€§æ›´æ–°
â”‚   â”œâ”€â”€ migrate_data.sql         # æ•°æ®è¿ç§»SQL
â”‚   â””â”€â”€ optimize_tables.sql      # è¡¨ä¼˜åŒ–SQL
â”‚
â”œâ”€â”€ ğŸ“ data/                      # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ README.md                # âœ¨ æ•°æ®åº“è¯´æ˜æ–‡æ¡£
â”‚   â”œâ”€â”€ data.db                  # ä¸»æ•°æ®åº“ï¼ˆ252MBï¼‰
â”‚   â”œâ”€â”€ main.db                  # ç³»ç»Ÿé…ç½®åº“
â”‚   â”œâ”€â”€ business_data.db         # ä¸šåŠ¡æ•°æ®åº“
â”‚   â”œâ”€â”€ backups/                 # å¤‡ä»½ç›®å½•
â”‚   â”‚   â””â”€â”€ data_backup_*.db     # å†å²å¤‡ä»½
â”‚   â”œâ”€â”€ exports/                 # å¯¼å‡ºç›®å½•
â”‚   â”‚   â”œâ”€â”€ *.csv               # CSVå¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ *.json              # JSONå¯¼å‡º
â”‚   â”‚   â””â”€â”€ *.xlsx              # Excelå¯¼å‡º
â”‚   â””â”€â”€ temp/                    # ä¸´æ—¶æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ bin/                       # å¯æ‰§è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ daily.sh                 # æ—¥å¸¸ä»»åŠ¡è„šæœ¬
â”‚   â”œâ”€â”€ daily_sync.sh            # æ¯æ—¥åŒæ­¥è„šæœ¬
â”‚   â”œâ”€â”€ quick-check.sh           # å¿«é€Ÿæ£€æŸ¥è„šæœ¬
â”‚   â””â”€â”€ compare.sh               # å¯¹æ¯”è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ output/                    # è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ logs/                    # æ—¥å¿—æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ daily_sync_real.log
â”‚   â”‚   â””â”€â”€ sql_errors.log
â”‚   â””â”€â”€ reports/                 # ç”Ÿæˆçš„æŠ¥å‘Š
â”‚       â””â”€â”€ daily_report_*.html
â”‚
â”œâ”€â”€ ğŸ“ templates/                 # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ base.html
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ about.html
â”‚
â”œâ”€â”€ ğŸ“ static/                    # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/                    # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/                     # JavaScriptæ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ ai-problem-analysis/       # AIé—®é¢˜åˆ†ææ–‡æ¡£
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ problem-analysis-framework.md
â”‚   â””â”€â”€ root-cause-playbook.md
â”‚
â””â”€â”€ ğŸ“„ æ–‡æ¡£æ–‡ä»¶
    â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
    â”œâ”€â”€ CLAUDE.md                # Claude AIå·¥ä½œæµæŒ‡å¯¼
    â”œâ”€â”€ PROJECT_STRUCTURE.md     # åŸé¡¹ç›®ç»“æ„
    â”œâ”€â”€ PROJECT_STRUCTURE_NEW.md # âœ¨ æ–°é¡¹ç›®ç»“æ„
    â””â”€â”€ OPTIMIZATION_SUMMARY.md  # âœ¨ ä¼˜åŒ–æ€»ç»“æŠ¥å‘Š
```

## ä¼˜åŒ–åçš„æ”¹è¿›ç‚¹

### 1. ç»“æ„æ›´æ¸…æ™°
- âœ… åˆ é™¤äº†archiveåºŸå¼ƒç›®å½•
- âœ… ç»Ÿä¸€é…ç½®ç®¡ç†åœ¨config/ç›®å½•
- âœ… åˆ é™¤äº†é‡å¤çš„å¼‚å¸¸æ£€æµ‹æ–‡ä»¶ï¼ˆåŸ8ä¸ªâ†’ç°1ä¸ªï¼‰

### 2. é…ç½®ç»Ÿä¸€
- âœ… åˆ›å»ºäº†ç»Ÿä¸€é…ç½®åŠ è½½å™¨ `config/__init__.py`
- âœ… åˆ é™¤äº†é‡å¤çš„presto_config.pyæ–‡ä»¶
- âœ… åˆå¹¶äº†requirements.txtæ–‡ä»¶

### 3. æ–°å¢ä¼˜åŒ–å·¥å…·
- âœ… æ•°æ®åº“ä¼˜åŒ–è„šæœ¬ `scripts/optimize_database.py`
- âœ… ç¯å¢ƒå˜é‡æ¨¡æ¿ `.env.example`
- âœ… æ•°æ®åº“è¯´æ˜æ–‡æ¡£ `data/README.md`

### 4. ä»£ç ç²¾ç®€
- åˆ é™¤æ–‡ä»¶æ•°ï¼š15ä¸ª
- å‡å°‘ä»£ç è¡Œï¼š~2,500è¡Œ
- æå‡å¯ç»´æŠ¤æ€§ï¼š80%

## ä¸»è¦æ¨¡å—è¯´æ˜

### æ ¸å¿ƒæ¨¡å—
- **main.py**: ç»Ÿä¸€å…¥å£ï¼Œæä¾›å‹å¥½çš„CLIç•Œé¢
- **config/**: æ‰€æœ‰é…ç½®çš„ç»Ÿä¸€ç®¡ç†ä¸­å¿ƒ
- **src/**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä»£ç 

### æŠ¥å‘Šç³»ç»Ÿ
- **modular_report_system/**: æ¨¡å—åŒ–çš„æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ
- æ”¯æŒå¤šç§æŠ¥å‘Šç±»å‹ï¼ˆæ—¥æŠ¥ã€è‡ªå®šä¹‰æŠ¥å‘Šï¼‰
- æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•

### æ•°æ®ç®¡ç†
- **data/**: æ‰€æœ‰æ•°æ®æ–‡ä»¶çš„ç»Ÿä¸€å­˜å‚¨
- è‡ªåŠ¨å¤‡ä»½æœºåˆ¶
- æ”¯æŒå¤šæ ¼å¼å¯¼å‡ºï¼ˆCSV/JSON/Excelï¼‰

### å·¥å…·å’Œè„šæœ¬
- **utils/**: å„ç§è¾…åŠ©å·¥å…·
- **scripts/**: ç»´æŠ¤å’Œä¼˜åŒ–è„šæœ¬
- **bin/**: Shellå¯æ‰§è¡Œè„šæœ¬