# AI问题分析框架

## 核心分析方法论

### 分析原则
AI进行复杂问题分析时遵循以下核心原则：
1. **结构化拆解**: 将复杂问题拆解为可验证的子问题
2. **数据驱动**: 每个假设都要有数据支撑
3. **多维关联**: 从用户、时间、渠道、产品等多维度分析
4. **根因导向**: 不止于现象描述，深挖根本原因

### 通用四步分析法

#### 第一步：数据验证 (Data Validation)
**目标**: 排除数据问题导致的"假异常"

**验证项目**:
- 数据源完整性检查
- 数仓处理过程验证
- 指标计算口径确认
- 历史数据对比验证

**检查清单**:
```sql
-- 1. 数据量检查
SELECT dt, COUNT(*) as daily_count 
FROM main_table 
WHERE dt >= DATE_SUB(CURRENT_DATE, 7)
GROUP BY dt
ORDER BY dt;

-- 2. 空值率检查
SELECT dt, 
  COUNT(*) as total,
  COUNT(user_id) as valid_users,
  (COUNT(*) - COUNT(user_id)) * 100.0 / COUNT(*) as null_rate
FROM main_table 
WHERE dt >= DATE_SUB(CURRENT_DATE, 7)
GROUP BY dt;

-- 3. 重复数据检查
SELECT dt, COUNT(*) as total, COUNT(DISTINCT user_id) as unique_users
FROM main_table 
WHERE dt >= DATE_SUB(CURRENT_DATE, 7)
GROUP BY dt;
```

#### 第二步：指标拆解 (Metric Decomposition)
**目标**: 识别问题的具体来源

**拆解维度**:
- 组成要素拆解
- 时间序列拆解  
- 用户群体拆解
- 行为路径拆解

**DAU拆解示例**:
```
DAU = 新增用户活跃 + 老用户活跃 + 回流用户活跃

其中：
- 新增用户活跃 = 当日新增 × 当日活跃率
- 老用户活跃 = 历史用户 × 对应留存率
- 回流用户活跃 = 召回用户数 × 回流活跃率
```

#### 第三步：维度下钻 (Dimensional Drill-down)
**目标**: 精确定位问题发生的具体场景

**下钻维度**:

**用户维度**:
- 新老用户分层
- 渠道来源细分
- 用户质量分层 (good/认证状态)
- 地域分布 (城市等级)
- 设备特征 (iOS/Android, 机型)
- 用户画像 (年龄、性别)

**时间维度**:
- 小时级别波动分析
- 工作日vs周末模式
- 节假日影响分析
- 版本发布时间点对比
- 运营活动时间轴分析

**产品维度**:
- 版本差异分析
- 功能使用路径分析
- 页面性能分析
- 崩溃率分析

#### 第四步：深度归因 (Root Cause Analysis)
**目标**: 找到导致问题的根本原因

**归因方法**:
1. **相关性分析**: 找出与异常指标高度相关的因素
2. **时间序列分析**: 识别因果关系的时间先后顺序
3. **A/B对比分析**: 通过对照组验证假设
4. **业务逻辑验证**: 结合业务场景验证分析结论

## AI分析能力矩阵

### 自动化程度分级

**L1 - 基础监控**:
- 异常检测和预警
- 基础指标计算
- 简单的同比环比分析

**L2 - 指标拆解**:
- 多维度指标拆解
- 异常来源初步定位
- 标准化分析模板应用

**L3 - 根因分析**:
- 多维度关联分析
- 业务场景结合分析
- 假设验证和归因推理

**L4 - 预测建议**:
- 趋势预测和风险预警
- 业务决策建议
- 优化方案生成

### 分析场景覆盖

**用户增长分析**:
- DAU/MAU异常分析
- 新增用户质量分析
- 用户留存异常分析
- 渠道效果分析

**收入分析**:
- ARPU异常分析
- 付费转化分析
- 收入结构变化分析

**产品功能分析**:
- 功能使用率分析
- 用户行为路径分析
- 产品体验问题分析

## 分析质量保证

### 数据质量要求
1. **完整性**: 确保数据覆盖完整，无大面积缺失
2. **准确性**: 验证关键字段的数据准确性
3. **一致性**: 确保不同数据源口径一致
4. **时效性**: 保证分析数据的实时性

### 分析逻辑验证
1. **业务逻辑验证**: 分析结论符合业务常识
2. **数学逻辑验证**: 计算过程和结果的数学正确性
3. **统计显著性验证**: 确保结论有统计学意义
4. **可重现性验证**: 分析过程和结果可重现

### 结论可信度评估
- **高可信度**: 有充分数据支撑，业务逻辑清晰，可重现
- **中等可信度**: 数据支撑较好，但需要更多验证
- **低可信度**: 数据有限，需要更多信息才能确认

## 使用指南

### 快速问题诊断流程
1. 使用异常检测模板快速识别问题
2. 应用对应分析模板进行初步分析
3. 根据分析结果选择深度分析方向
4. 结合业务知识进行根因验证

### 常见误区避免
- **避免单一维度分析**: 必须多维度交叉验证
- **避免相关性当因果性**: 注意区分相关性和因果关系
- **避免过度拟合**: 防止为异常现象强行找原因
- **避免忽略外部因素**: 考虑竞品、行业、政策等外部影响

---
*最后更新: 2025-08-06*
*版本: v1.0 - AI分析框架基础版*